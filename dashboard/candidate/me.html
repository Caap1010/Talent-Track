<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <title>TalentTrack â€“ Me</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="../../css/styles.css" />
</head>

<body data-theme="dark">
    <header class="tt-header">
        <div class="tt-header-left">
            <img src="../../img/logo.png" alt="TalentTrack logo" class="tt-logo" />
            <span class="tt-brand-name">TALENTTRACK</span>
        </div>
        <nav class="tt-nav">
            <a href="../../index.html">Home</a>
            <a href="../../jobs.html">Jobs</a>
            <a href="../../freelance.html">Freelance</a>
            <a href="../../auth.html">Login</a>
            <a href="../../register.html" class="tt-btn tt-btn-primary tt-btn-sm">Sign Up</a>
        </nav>
        <button id="darkModeToggle" class="tt-toggle" aria-label="Toggle dark mode">ğŸŒ™</button>
    </header>

    <main class="tt-dashboard">
        <aside class="tt-sidebar">
            <div class="tt-sidebar-profile">
                <div class="tt-avatar">SQ</div>
                <div>
                    <h2>Sfiso Tshotwane</h2>
                    <p>Junior Tech Enthusiast</p>
                </div>
            </div>
            <nav class="tt-sidebar-nav">
                <a href="candidate.html">ğŸ  Home</a>
                <a href="network.html">ğŸ‘¥ My Network</a>
                <a href="interview-prep.html">ğŸ§  Interview Prep</a>
                <a href="ranking.html">ğŸ† Ranking</a>
                <a href="me.html" class="active">ğŸ‘¤ Me</a>
                <a href="academy.html">ğŸ“ A+ Student Academy</a>
                <a href="challenge.html">ğŸ”¥ Todayâ€™s Challenge</a>
                <a href="badges.html">ğŸ… Gamification Badges</a>
                <a href="subscription.html">ğŸ’³ Subscription Plans</a>
                <a href="../../stats.html">ğŸ“Š Stats</a>
                <a href="../../jobs.html">ğŸ’¼ Jobs</a>
            </nav>
        </aside>

        <section class="tt-dashboard-main">
            <div class="tt-card">
                <div class="tt-card-header">
                    <h3>My Profile</h3>
                    <span class="tt-chip">View</span>
                </div>
                <p class="tt-auth-subtitle">This is a readâ€‘only mock. Backend editing will come later.</p>

                <div class="tt-badges-row">
                    <div class="tt-badge-card"><span>ğŸ“„</span>
                        <p>Profile 90%+ Complete</p>
                    </div>
                    <div class="tt-badge-card"><span>ğŸš€</span>
                        <p>Applied to 10 Jobs</p>
                    </div>
                    <div class="tt-badge-card"><span>ğŸ¤</span>
                        <p>3 Interviews Completed</p>
                    </div>
                </div>

                <div class="tt-card-section" style="margin-top:12px;" id="ttProfileView">
                    <div style="display:flex;justify-content:space-between;align-items:center;">
                        <h4>Details</h4>
                        <div>
                            <button id="editProfileBtn" class="tt-btn tt-btn-secondary tt-btn-sm">Edit</button>
                        </div>
                    </div>
                    <div id="ttProfileDisplay">
                        <p id="pfName">Name: Sfiso Quintin Tshotwane</p>
                        <p id="pfRole">Role Target: Junior Developer / Cloud Support</p>
                        <p id="pfLocation">Location: Johannesburg, South Africa</p>
                        <p id="pfSkills">Skills: JavaScript, React, Python, Power BI</p>
                    </div>

                    <form id="ttProfileForm" style="display:none;margin-top:8px;">
                        <label>Full name<br /><input id="pfNameInput" type="text" /></label><br />
                        <label>Role target<br /><input id="pfRoleInput" type="text" /></label><br />
                        <label>Location<br /><input id="pfLocationInput" type="text" /></label><br />
                        <label>Skills (comma separated)<br /><input id="pfSkillsInput" type="text" /></label><br />
                        <div style="margin-top:8px;">
                            <button id="saveProfileBtn" class="tt-btn tt-btn-primary tt-btn-sm">Save</button>
                            <button id="cancelProfileBtn" type="button"
                                class="tt-btn tt-btn-ghost tt-btn-sm">Cancel</button>
                        </div>
                    </form>
                </div>
            </div>
        </section>
    </main>

    <footer class="tt-footer">
        <div class="tt-footer-left">
            <p>Â© <span id="year"></span> TalentTrack. All rights reserved.</p>
            <a href="#about">About</a>
            <a href="#contact">Contact</a>
            <a href="#privacy">Privacy Policy</a>
            <a href="#terms">Terms</a>
        </div>
        <div class="tt-footer-right">
            <span aria-label="LinkedIn">ğŸ”—</span>
            <span aria-label="Twitter">ğŸ¦</span>
            <span aria-label="Instagram">ğŸ“·</span>
        </div>
    </footer>

    <script>
        (function () {
            const form = document.getElementById('ttProfileForm');
            const display = document.getElementById('ttProfileDisplay');
            const editBtn = document.getElementById('editProfileBtn');
            const saveBtn = document.getElementById('saveProfileBtn');
            const cancelBtn = document.getElementById('cancelProfileBtn');
            const inputs = {
                name: document.getElementById('pfNameInput'),
                role: document.getElementById('pfRoleInput'),
                location: document.getElementById('pfLocationInput'),
                skills: document.getElementById('pfSkillsInput')
            };

            function loadProfile() {
                const p = JSON.parse(localStorage.getItem('TT_PROFILE') || '{}');
                document.getElementById('pfName').textContent = 'Name: ' + (p.Full_Name || 'â€”');
                document.getElementById('pfRole').textContent = 'Role Target: ' + (p.Your_Role || (p.Professional_Headline || 'â€”'));
                document.getElementById('pfLocation').textContent = 'Location: ' + (p.Location || (p.Contact_Number || 'â€”'));
                document.getElementById('pfSkills').textContent = 'Skills: ' + (p.Strengths || 'â€”');

                inputs.name.value = p.Full_Name || '';
                inputs.role.value = p.Your_Role || p.Professional_Headline || '';
                inputs.location.value = p.Location || p.Contact_Number || '';
                inputs.skills.value = p.Strengths || '';
            }

            if (editBtn) {
                editBtn.addEventListener('click', () => {
                    display.style.display = 'none';
                    form.style.display = 'block';
                });
            }
            if (cancelBtn) {
                cancelBtn.addEventListener('click', () => {
                    form.style.display = 'none';
                    display.style.display = 'block';
                });
            }
            if (saveBtn) {
                saveBtn.addEventListener('click', (e) => {
                    e.preventDefault();
                    const obj = {
                        Full_Name: inputs.name.value.trim(),
                        Your_Role: inputs.role.value.trim(),
                        Location: inputs.location.value.trim(),
                        Strengths: inputs.skills.value.trim()
                    };
                    localStorage.setItem('TT_PROFILE', JSON.stringify(obj));
                    loadProfile();
                    form.style.display = 'none';
                    display.style.display = 'block';
                });
            }

            // Populate on open
            loadProfile();
        })();
    </script>

    <script src="../../js/main.js"></script>
</body>

</html>