<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <title>TalentTrack â€“ Candidate Dashboard</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="../../css/styles.css" />
</head>

<body data-theme="dark">
    <!-- HEADER -->
    <header class="tt-header">
        <div class="tt-header-left">
            <img src="../../img/logo.png" alt="TalentTrack logo" class="tt-logo" />
            <span class="tt-brand-name">TALENTTRACK</span>
        </div>
        <nav class="tt-nav">
            <!-- fallback, will be replaced by main.js -->
            <a href="../../index.html">Home</a>
            <a href="../../jobs.html">Jobs</a>
            <a href="../../freelance.html">Freelance</a>
            <a href="../../auth.html">Login</a>
            <a href="../../register.html" class="tt-btn tt-btn-primary tt-btn-sm">Sign Up</a>
        </nav>
        <button id="darkModeToggle" class="tt-toggle" aria-label="Toggle dark mode">ğŸŒ™</button>
    </header>

    <!-- DASHBOARD -->
    <main class="tt-dashboard">
        <!-- Sidebar -->
        <aside class="tt-sidebar">
            <div class="tt-sidebar-profile">
                <div class="tt-avatar">SQ</div>
                <div>
                    <h2>Sfiso Tshotwane</h2>
                    <p>Junior Tech Enthusiast</p>
                </div>
            </div>
            <nav class="tt-sidebar-nav">
                <a href="candidate.html">ğŸ  Home</a>
                <a href="network.html">ğŸ‘¥ My Network</a>
                <a href="../../jobs.html">ğŸ’¼ Jobs</a>
                <a href="../../messaging.html?view=candidate">ğŸ’¬ Messaging</a>
                <a href="interview-prep.html">ğŸ§  Interview Prep</a>
                <a href="../../interview-room.html?view=candidate">ğŸ¥ Interview Room</a>
                <a href="../../stats.html">ğŸ“Š Stats</a>
                <a href="ranking.html">ğŸ† Ranking</a>
                <a href="../../leaderboard.html">ğŸ’° Leaderboard</a>
                <a href="me.html">ğŸ‘¤ Me</a>
                <a href="applications.html">ğŸ“¨ Applications</a>
                <a href="academy.html">ğŸ“ Academy</a>
            </nav>
        </aside>

        <!-- Content -->
        <section class="tt-dashboard-main">
            <!-- Top stats -->
            <div class="tt-grid tt-grid-4">
                <div class="tt-stat-card">
                    <span class="tt-stat-label">Profile Views</span>
                    <strong>248</strong>
                    <span class="tt-stat-trend up">+18% this week</span>
                </div>
                <div class="tt-stat-card">
                    <span class="tt-stat-label">CV Downloads</span>
                    <strong>37</strong>
                    <span class="tt-stat-trend">Stable</span>
                </div>
                <div class="tt-stat-card">
                    <span class="tt-stat-label">Interviews</span>
                    <strong>5</strong>
                    <span class="tt-stat-trend up">+2 scheduled</span>
                </div>
                <div class="tt-stat-card">
                    <span class="tt-stat-label">Companies Interested</span>
                    <strong>9</strong>
                    <span class="tt-stat-trend up">+3 this month</span>
                </div>
                <div class="tt-stat-card">
                    <span class="tt-stat-label">Net Worth</span>
                    <strong id="ttNetWorth">R0</strong>
                    <span class="tt-stat-trend">XP: <span id="ttXPVal">0</span></span>
                </div>
            </div>

            <!-- Challenge + Badges -->
            <div class="tt-grid tt-grid-2">
                <div class="tt-card">
                    <div class="tt-card-header">
                        <h3>Todayâ€™s Challenge</h3>
                        <span class="tt-chip tt-chip-info">ğŸ”¥ 35 XP</span>
                    </div>
                    <p>â€œRecord a 60â€‘second pitch about your dream role and upload it to your profile.â€</p>
                    <button class="tt-btn tt-btn-primary tt-btn-sm">Mark as Done</button>
                </div>

                <div class="tt-card">
                    <div class="tt-card-header">
                        <h3>Gamification Badges</h3>
                        <span class="tt-chip">Level 3</span>
                    </div>
                    <div class="tt-badges-row">
                        <div class="tt-badge-card"><span>ğŸ“„</span>
                            <p>Profile 90%+ Complete</p>
                        </div>
                        <div class="tt-badge-card"><span>ğŸš€</span>
                            <p>Applied to 10 Jobs</p>
                        </div>
                        <div class="tt-badge-card"><span>ğŸ¤</span>
                            <p>3 Interviews Completed</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Jobs + Interview Room + A+ -->
            <div class="tt-grid tt-grid-3">
                <div class="tt-card">
                    <div class="tt-card-header">
                        <h3>Your Applications</h3>
                        <span class="tt-chip">Recent</span>
                    </div>
                    <div class="tt-card-section">
                        <ul id="ttApplicationsList" class="tt-list">
                            <li class="tt-muted">No applications yet.</li>
                        </ul>
                    </div>
                </div>
                <div class="tt-card tt-card-jobs">
                    <div class="tt-card-header">
                        <h3>Recommended Jobs</h3>
                        <a href="../../jobs.html" class="tt-link">View all</a>
                    </div>
                    <ul class="tt-list">
                        <li>
                            <div>
                                <strong>Junior Software Developer</strong>
                                <p>NovaTech Labs Â· Johannesburg Â· Hybrid</p>
                            </div>
                            <button class="tt-btn tt-btn-sm tt-btn-secondary">Apply</button>
                        </li>
                        <li>
                            <div>
                                <strong>Graduate Engineer</strong>
                                <p>FutureEnergy Â· Secunda Â· On-site</p>
                            </div>
                            <button class="tt-btn tt-btn-sm tt-btn-secondary">Apply</button>
                        </li>
                    </ul>
                </div>

                <div class="tt-card tt-card-jobs">
                    <div class="tt-card-header">
                        <h3>Upcoming Interviews</h3>
                        <a href="../../interview-room.html?view=candidate" class="tt-link">Open Interview Room â†’</a>
                    </div>
                    <ul class="tt-list">
                        <li>
                            <div>
                                <strong>PixelForge Studio</strong>
                                <p>UI/UX Intern Â· Tomorrow Â· 10:00</p>
                            </div>
                            <span class="tt-chip tt-chip-success">Confirmed</span>
                        </li>
                        <li>
                            <div>
                                <strong>InsightWorks</strong>
                                <p>Data Analyst Intern Â· Friday Â· 14:30</p>
                            </div>
                            <span class="tt-chip">Pending</span>
                        </li>
                    </ul>
                </div>

                <div class="tt-card tt-card-academy">
                    <div class="tt-card-header">
                        <h3>A+ Student Academy</h3>
                        <span class="tt-chip tt-chip-locked">Locked</span>
                    </div>
                    <p>Unlock premium courses from Cisco, Coursera, Google & more to boost your ranking.</p>
                    <button class="tt-btn tt-btn-primary tt-btn-sm">Upgrade to Premium</button>
                </div>
            </div>
        </section>
    </main>

    <!-- FOOTER -->
    <footer class="tt-footer">
        <div class="tt-footer-left">
            <p>Â© <span id="year"></span> TalentTrack. All rights reserved.</p>
            <a href="#about">About</a>
            <a href="#contact">Contact</a>
            <a href="#privacy">Privacy Policy</a>
            <a href="#terms">Terms</a>
        </div>
        <div class="tt-footer-right"><span>ğŸ”—</span><span>ğŸ¦</span><span>ğŸ“·</span></div>
    </footer>

    <script src="../../js/main.js"></script>
    <script>
        (function () {
            // Enhanced Net Worth Model with Tier Multipliers
            function calculateNetWorth(xp, credits) {
                let xpBase = xp * 2;
                let creditsBase = credits * 10;

                // XP Tier Multipliers (progression bonus)
                let xpMultiplier = 1;
                if (xp >= 500) xpMultiplier = 1.5; // Platinum
                else if (xp >= 300) xpMultiplier = 1.3; // Gold
                else if (xp >= 150) xpMultiplier = 1.15; // Silver
                // else Bronze (1x)

                // Credits Tier Multipliers
                let creditsMultiplier = 1;
                if (credits >= 500) creditsMultiplier = 1.4;
                else if (credits >= 250) creditsMultiplier = 1.25;
                else if (credits >= 100) creditsMultiplier = 1.1;

                const xpWealth = xpBase * xpMultiplier;
                const creditsWealth = creditsBase * creditsMultiplier;

                return {
                    total: Math.round(xpWealth + creditsWealth),
                    xpWealth: Math.round(xpWealth),
                    creditsWealth: Math.round(creditsWealth),
                    xpMultiplier,
                    creditsMultiplier,
                    xpTier: xp >= 500 ? 'Platinum' : xp >= 300 ? 'Gold' : xp >= 150 ? 'Silver' : 'Bronze',
                    creditsTier: credits >= 500 ? 'Platinum' : credits >= 250 ? 'Gold' : credits >= 100 ? 'Silver' : 'Bronze'
                };
            }

            function renderNetWorth() {
                const xp = parseInt(localStorage.getItem('TT_XP') || '0', 10);
                const credits = parseInt(localStorage.getItem('TT_COMPANY_CREDITS') || '0', 10);
                const wealth = calculateNetWorth(xp, credits);

                const el = document.getElementById('ttNetWorth');
                const xpEl = document.getElementById('ttXPVal');

                if (el) {
                    el.textContent = 'R' + wealth.total.toLocaleString();
                    // Add a tooltip showing breakdown
                    el.title = `XP Wealth: R${wealth.xpWealth} (${wealth.xpTier} tier: ${(wealth.xpMultiplier * 100).toFixed(0)}%)\nCredits Wealth: R${wealth.creditsWealth} (${wealth.creditsTier} tier: ${(wealth.creditsMultiplier * 100).toFixed(0)}%)`;
                }
                if (xpEl) xpEl.textContent = xp;
            }

            renderNetWorth();
            window.addEventListener('storage', renderNetWorth);
        })();
    </script>
</body>

</html>
``