<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <title>TalentTrack â€“ Me (Freelancer)</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="../../css/styles.css" />
</head>

<body data-theme="dark">
    <!-- HEADER -->
    <header class="tt-header">
        <div class="tt-header-left">
            <img src="../../img/logo.png" alt="TalentTrack logo" class="tt-logo" loading="lazy" />
            <span class="tt-brand-name">TALENTTRACK</span>
        </div>
        <nav class="tt-nav">
            <a href="../../index.html">Home</a>
            <a href="../../jobs.html">Jobs</a>
            <a href="../../freelance.html">Freelance</a>
            <a href="../../auth.html">Login</a>
            <a href="../../register.html" class="tt-btn tt-btn-primary tt-btn-sm">Sign Up</a>
        </nav>
        <button id="darkModeToggle" class="tt-toggle" aria-label="Toggle dark mode">ğŸŒ™</button>
    </header>

    <main class="tt-dashboard">
        <aside class="tt-sidebar">
            <div class="tt-sidebar-profile">
                <div class="tt-avatar">SQ</div>
                <div>
                    <h2>Sfiso Tshotwane</h2>
                    <p>Freelance Frontend & UI</p>
                </div>
            </div>
            <nav class="tt-sidebar-nav">
                <a href="../freelancer.html">ğŸ  Home</a>
                <a href="projects.html">ğŸ“ My Projects</a>
                <a href="marketplace.html">ğŸ›’ Marketplace</a>
                <a href="../../messaging.html?view=freelancer">ğŸ’¬ Messaging</a>
                <a href="../../interview-room.html?view=freelancer">ğŸ¥ Interview Room</a>
                <a href="stats.html">ğŸ“Š Stats</a>
                <a href="ranking.html">ğŸ† Ranking</a>
                <a href="me.html">ğŸ‘¤ Me</a>
                <a href="challenge.html">ğŸ”¥ Todayâ€™s Challenge</a>
                <a href="plan.html">ğŸ’³ Freelancer Plan</a>
                <a href="opportunities.html">ğŸ›ï¸ Marketplace Opportunities</a>
                <a href="academy.html">ğŸ“ A+ Student Academy</a>
            </nav>
        </aside>

        <section class="tt-dashboard-main">
            <div class="tt-card">
                <div class="tt-card-header">
                    <h3>My Freelancer Profile</h3>
                    <span class="tt-chip">View</span>
                </div>
                <div class="tt-badges-row">
                    <div class="tt-badge-card"><span>ğŸ’¼</span>
                        <p>18 Completed Projects</p>
                    </div>
                    <div class="tt-badge-card"><span>â­</span>
                        <p>5.0 Average Rating</p>
                    </div>
                    <div class="tt-badge-card"><span>â±ï¸</span>
                        <p>Onâ€‘time Delivery</p>
                    </div>
                </div>
                <div class="tt-card-section" style="margin-top:12px;" id="ttFreelancerProfile">
                    <div style="display:flex;justify-content:space-between;align-items:center;">
                        <h4>Details</h4>
                        <div>
                            <button id="editFreelancerBtn" class="tt-btn tt-btn-secondary tt-btn-sm">Edit</button>
                        </div>
                    </div>
                    <div id="ttFreelancerDisplay">
                        <p id="frName">Name: Sfiso Quintin Tshotwane</p>
                        <p id="frCategory">Category: Frontend Â· UI/UX</p>
                        <p id="frLocation">Location: Johannesburg, South Africa</p>
                        <p id="frSkills">Skills: React, JavaScript, Tailwind, Figma</p>
                    </div>

                    <form id="ttFreelancerForm" style="display:none;margin-top:8px;">
                        <label>Full name<br /><input id="frNameInput" type="text" /></label><br />
                        <label>Category<br /><input id="frCategoryInput" type="text" /></label><br />
                        <label>Location<br /><input id="frLocationInput" type="text" /></label><br />
                        <label>Skills (comma separated)<br /><input id="frSkillsInput" type="text" /></label><br />
                        <div style="margin-top:8px;">
                            <button id="saveFreelancerBtn" class="tt-btn tt-btn-primary tt-btn-sm">Save</button>
                            <button id="cancelFreelancerBtn" type="button"
                                class="tt-btn tt-btn-ghost tt-btn-sm">Cancel</button>
                        </div>
                    </form>
                </div>
            </div>
        </section>
    </main>

    <footer class="tt-footer">
        <div class="tt-footer-left">
            <p>Â© <span id="year"></span> TalentTrack. All rights reserved.</p>
            <a href="#about">About</a><a href="#contact">Contact</a><a href="#privacy">Privacy Policy</a><a
                href="#terms">Terms</a>
        </div>
        <div class="tt-footer-right"><span>ğŸ”—</span><span>ğŸ¦</span><span>ğŸ“·</span></div>
    </footer>

    <script src="../../js/main.js"></script>

    <script>
        (function () {
            const form = document.getElementById('ttFreelancerForm');
            const display = document.getElementById('ttFreelancerDisplay');
            const editBtn = document.getElementById('editFreelancerBtn');
            const saveBtn = document.getElementById('saveFreelancerBtn');
            const cancelBtn = document.getElementById('cancelFreelancerBtn');
            const inputs = {
                name: document.getElementById('frNameInput'),
                category: document.getElementById('frCategoryInput'),
                location: document.getElementById('frLocationInput'),
                skills: document.getElementById('frSkillsInput')
            };

            function loadProfile() {
                const p = JSON.parse(localStorage.getItem('TT_PROFILE') || '{}');
                document.getElementById('frName').textContent = 'Name: ' + (p.Full_Name || 'â€”');
                document.getElementById('frCategory').textContent = 'Category: ' + (p.Your_Role || 'â€”');
                document.getElementById('frLocation').textContent = 'Location: ' + (p.Location || 'â€”');
                document.getElementById('frSkills').textContent = 'Skills: ' + (p.Strengths || 'â€”');

                inputs.name.value = p.Full_Name || '';
                inputs.category.value = p.Your_Role || '';
                inputs.location.value = p.Location || '';
                inputs.skills.value = p.Strengths || '';
            }

            if (editBtn) editBtn.addEventListener('click', () => { display.style.display = 'none'; form.style.display = 'block'; });
            if (cancelBtn) cancelBtn.addEventListener('click', () => { form.style.display = 'none'; display.style.display = 'block'; });
            if (saveBtn) saveBtn.addEventListener('click', (e) => {
                e.preventDefault();
                const obj = {
                    Full_Name: inputs.name.value.trim(),
                    Your_Role: inputs.category.value.trim(),
                    Location: inputs.location.value.trim(),
                    Strengths: inputs.skills.value.trim()
                };
                localStorage.setItem('TT_PROFILE', JSON.stringify(obj));
                loadProfile();
                form.style.display = 'none';
                display.style.display = 'block';
            });

            loadProfile();
        })();
    </script>
</body>

</html>